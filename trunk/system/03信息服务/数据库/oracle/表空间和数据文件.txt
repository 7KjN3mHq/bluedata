查看表空间的名称及大小
select t.tablespace_name, round(sum(bytes/(1024*1024)),0) ts_size
from dba_tablespaces t, dba_data_files d where t.tablespace_name = d.tablespace_name
group by t.tablespace_name;

查看表空间物理文件的名称及大小
select tablespace_name, file_id, file_name, round(bytes/(1024*1024),0) total_space
from dba_data_files
order by tablespace_name;

查看表空间的使用情况
select sum(bytes)/(1024*1024) as free_space, tablespace_name from dba_free_space group by tablespace_name;

创建表空间
create tablespace test
datafile '/opt/oracle/oradata/ORCL/datafile/test01.dbf'
size 100M autoextend on next 10M maxsize 2048M
extent management local uniform size 128K
segment space management auto;


跨平台表空间传输 (Win32 10.2.0.1 -> lnx32 10.2.0.4)
查询平台字节顺序：
select * from v$transportable_platform;

以只读模式打开数据库：
startup mount
alter database open read only;

确认迁移是否支持：
set serveroutput on
declare
  db_ready boolean;
begin
  db_ready := dbms_tdb.check_db('Linux IA (32-bit)');
end;
/

检查外部对象：
set serveroutput on
declare
  external boolean;
begin
  external := dbms_tdb.check_external;
end;
/

使用 RMAN 转换数据文件：
rman targe /
convert database new database 'ORCL'
transport script 'D:\oracle\product\10.2.0\oradata\transport\transport.sql'
to platform 'Linux IA (32-bit)'
db_file_name_convert 'D:\ORACLE\PRODUCT\10.2.0\ORADATA\MPTEST\DATAFILE' 'D:\ORACLE\PRODUCT\10.2.0\ORADATA\TRANSPORT';

(Windows Server 2003 SP1, Oracle 10.2.0.1 db_file_name_convert 后的文件保存在了 database 目录下。 )

生成了一个转换脚本 transport.sql 用于参考。
RMAN 还自动生成了一个参数文件 init_00il1i4r_1_0.ora ，可根据此文件修改目标平台的参数。
把目录打包传输到目标平台上。

在导入平台上创建相关目录：
mkdir -p /opt/oracle/admin/orcl/{a,b,c,d,u}dump
mkdir -p /opt/oracle/admin/orcl/pfile