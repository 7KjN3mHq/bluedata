一些功能所依赖的包：
dom: libxml2 libxml2-devel
mcrypt: libmcrypt libmcrypt-devel
gd freetype(for debian): libttf2 libttf-dev

安装 MySQL
tar zxvf mysql-5.0.33.tar.gz
cd mysql-5.0.33
./configure \
--prefix=/usr/local/mysql \
--sysconfdir=/usr/local/mysql/etc \
--with-extra-charsets=all \
--with-charset=gbk
make
make install

# yum -y install flex

## install php
tar jxvf php-4.4.4.tar.bz2
cd php-4.4.4
./configure \
--prefix=/usr/local/php \
--enable-mbstring=all \
--enable-memcache \
--with-config-file-path=/usr/local/php/etc \
--with-apxs2=/usr/local/apache/bin/apxs \
--with-gd=/usr/local/gd \
--with-zlib \
--with-png \
--with-jpeg \
--with-freetype \
--with-mysql=/usr/local/mysql \
--with-dom
make
make install
cp -f php.ini-dist /usr/local/php/etc/php.ini
cd ..


# install ZendOptimizer
tar zxvf ZendOptimizer-3.2.2-linux-glibc21-i386.tar.gz
cd ZendOptimizer-3.2.2-linux-glibc21-i386
./install
cd ..


# install eaccelerator
tar jxvf eaccelerator-0.9.5.tar.bz2
cd eaccelerator-0.9.5
/usr/local/php/bin/phpize
./configure --enable-eaccelerator=shared --with-php-config=/usr/local/php/bin/php-config
make
make install
cd ..

mkdir /tmp/eaccelerator
chmod 0777 /tmp/eaccelerator


# install memcache
tar zxvf memcache-2.1.2.tgz
cd memcache-2.1.2
/usr/local/php/bin/phpize
./configure --with-php-config=/usr/local/php/bin/php-config
make
make install


## configuration
vi /usr/local/apache/conf/httpd.conf
AddType application/x-httpd-php .php .php3
DirectoryIndex index.html index.htm default.html default.htm index.php default.php index.php3 default.php3

vi /usr/local/php/etc/php.ini
default_charset = "gbk"
max_execution_time = 5
register_globals = On
session.gc_maxlifetime = 3600
session.bug_compat_42 = 0
session.bug_compat_warn = 0
mysql.allow_persistent = Off
mysql.connect_timeout = 10

; Enable memcache extension module
extension=/usr/local/php/lib/php/extensions/no-debug-non-zts-20020429/memcache.so

[eAccelerator]
zend_extension="/usr/local/php/lib/php/extensions/no-debug-non-zts-20020429/eaccelerator.so"
eaccelerator.shm_size="32"
eaccelerator.cache_dir="/tmp/eaccelerator"
eaccelerator.enable="1"
eaccelerator.optimizer="1"
eaccelerator.check_mtime="1"
eaccelerator.debug="0"
eaccelerator.filter=""
eaccelerator.shm_max="0"
eaccelerator.shm_ttl="0"
eaccelerator.shm_prune_period="0"
eaccelerator.shm_only="0"
eaccelerator.compress="1"
eaccelerator.compress_level="9"

[Zend]
## Add
zend_optimizer.optimization_level=1023


## Apache error log:
PHP Warning:  [eAccelerator] Can not create shared memory area in Unknown on line 0

-> eaccelerator.shm_size="32"