1. 缓存文件
将数据库单行记录的内容缓存到一个文件，文件名为此记录 id 的 md5 值。

2. 占用空间
具有详细内容的文件大小在 10k 左右，而不含详细内容的文件小于 1k ，
以文件大小 10k 为平均数计算，130GB 的空间可以存放 1300 万个文件。

3. 存储结构
先以记录的类别划分子目录，如：shop  goods  supply ，
再以文件名的前四位划分为四级目录，
每级目录为 0 - f 这 16 个子目录，
这样可以有 16*16*16*16=65536 个目录。
而以一类数据为 1000 万条记录计算，单个目录下的文件数量为 153 个。
单目录下的子目录数和文件数都较少，可以减少操作文件时的 CPU 占用。

4. 写入
文件缓存系统初始化时从数据库读取所有记录写入文件。
后期每次增加数据库记录的同时也创建一条该记录的文件。
同样，更新数据库记录的同时也更新相应文件。
删除数据库记录的同时也删除这条记录所对应的文件。
这样可以有效的减少文件缓存系统在上线后的写操作。

5. 读取
对于汇总页面（如网站首页和频道首页）及列表页面首页列出的记录可以
在打开时读入到 Memcached 内存中，改用内存缓存，以减少磁盘 I/O 。

6. 性能优化
考虑使用 ReiserFS ，海量小文件存取最优化的文件系统。
好处：存取 10k 以下的小文件速度快，CPU 消耗低，节约存储空间。
坏处：RHEL/CentOS 操作系统不支持，需要使用 Debian 操作系统，
      增加了系统管理的复杂性。