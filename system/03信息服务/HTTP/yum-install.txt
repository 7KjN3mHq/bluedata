安装：
## MySQL:
yum -y install mysql-server
## Installing for dependencies: perl-DBD-MySQL

## Apache2:
yum -y install httpd
## Installing for dependencies: apr apr-util httpd-suexec

tar zxvf cronolog-1.6.2.tar.gz
cd cronolog-1.6.2
./configure
make
make install

yum -y install httpd-devel
## Installing for dependencies: apr-devel apr-util-devel cyrus-sasl-devel db4-devel expat-devel openldap-devel pcre-devel
tar zxvf mod_limitipconn-0.22.tar.gz
cd mod_limitipconn-0.22
make install


## PHP:
yum -y install php php-gd php-mbstring php-mysql
## Installing for dependencies: curl libidn mysql perl-DBI php-pear

# install ZendOptimizer
tar zxvf ZendOptimizer-3.2.2-linux-glibc23-x86_64.tar.gz
cd ZendOptimizer-3.2.2-linux-glibc23-x86_64
./install

# install eaccelerator
yum -y install php-devel
tar jxvf eaccelerator-0.9.5.tar.bz2
cd eaccelerator-0.9.5
phpize
./configure --enable-eaccelerator=shared
make
make install


## 配置：
## Apache:
vi /etc/httpd/conf/httpd.conf

ServerTokens Prod

#LoadModule auth_anon_module modules/mod_auth_anon.so
#LoadModule auth_dbm_module modules/mod_auth_dbm.so
#LoadModule auth_digest_module modules/mod_auth_digest.so
#LoadModule ldap_module modules/mod_ldap.so
#LoadModule auth_ldap_module modules/mod_auth_ldap.so
#LoadModule env_module modules/mod_env.so
#LoadModule mime_magic_module modules/mod_mime_magic.so
#LoadModule cern_meta_module modules/mod_cern_meta.so
#LoadModule headers_module modules/mod_headers.so
#LoadModule usertrack_module modules/mod_usertrack.so
#LoadModule dav_module modules/mod_dav.so
#LoadModule asis_module modules/mod_asis.so
#LoadModule info_module modules/mod_info.so
#LoadModule dav_fs_module modules/mod_dav_fs.so
#LoadModule vhost_alias_module modules/mod_vhost_alias.so
#LoadModule imap_module modules/mod_imap.so
#LoadModule actions_module modules/mod_actions.so
#LoadModule speling_module modules/mod_speling.so
#LoadModule userdir_module modules/mod_userdir.so
#LoadModule proxy_module modules/mod_proxy.so
#LoadModule proxy_ftp_module modules/mod_proxy_ftp.so
#LoadModule proxy_http_module modules/mod_proxy_http.so
#LoadModule proxy_connect_module modules/mod_proxy_connect.so
#LoadModule cache_module modules/mod_cache.so
#LoadModule disk_cache_module modules/mod_disk_cache.so
#LoadModule file_cache_module modules/mod_file_cache.so
#LoadModule mem_cache_module modules/mod_mem_cache.so

ExtendedStatus On

DirectoryIndex index.html index.htm index.html.var index.shtml default.html default.htm index.php default.php index.php3 default.php3

ErrorLog "|/usr/local/sbin/cronolog /var/log/httpd/error_log.%Y%m%d"
#CustomLog logs/access_log combined

#AddDefaultCharset UTF-8

<Location /server-status>
    SetHandler server-status
    Order deny,allow
    Deny from all
    Allow from 222.212.0.0/16
</Location>

NameVirtualHost *:80

vi /etc/httpd/conf.d/welcome.conf
注释掉下面的内容：
<LocationMatch "^/+$">
    Options -Indexes
    ErrorDocument 403 /error/noindex.html
</LocationMatch>

vi /etc/httpd/conf.d/modules.conf
<IfModule mod_deflate.c>
    DeflateCompressionLevel 9
    AddOutputFilterByType DEFLATE text/html text/plain text/xml application/x-httpd-php
    AddOutputFilter DEFLATE css js
</ifmodule>

<IfModule mod_limitipconn.c>
    <Location />
        MaxConnPerIP 8
        NoIPLimit image/* text/css application/x-shockwave-flash application/x-javascript
    </Location>
</IfModule>


## PHP:
mv php.ini-zend_optimizer.bak /usr/local/Zend/etc/
mv /usr/local/Zend/etc/php.ini /etc/

max_execution_time = 5
register_globals = On
magic_quotes_gpc = On
default_charset = "gbk"
mysql.allow_persistent = Off
mysql.connect_timeout = 10
session.gc_maxlifetime = 3600
session.bug_compat_warn = 0

[eAccelerator]
zend_extension="/usr/lib64/php4/eaccelerator.so"
eaccelerator.shm_size="32"
eaccelerator.cache_dir="/tmp/eaccelerator"
eaccelerator.enable="1"
eaccelerator.optimizer="1"
eaccelerator.check_mtime="1"
eaccelerator.debug="0"
eaccelerator.filter=""
eaccelerator.shm_max="0"
eaccelerator.shm_ttl="0"
eaccelerator.shm_prune_period="0"
eaccelerator.shm_only="0"
eaccelerator.compress="1"
eaccelerator.compress_level="9"

[Zend]
zend_optimizer.optimization_level=1023

mkdir /tmp/eaccelerator
chown -R apache:apache /tmp/eaccelerator


## MySQL:
vi /etc/my.cnf
[mysqld]
datadir=/usr/local/mysql/var
socket=/var/lib/mysql/mysql.sock
default-character-set=gbk
character-set-client=gbk
skip-innodb
skip-bdb
skip-locking
wait_timeout = 3600
interactive_timeout = 3600
skip-name-resolve
thread_concurrency = 4

cp -ar /var/lib/mysql /usr/local/
mkdir /usr/local/mysql/var
chown -R mysql:mysql /usr/local/mysql/var


## 启动
ntsysv: httpd mysqld